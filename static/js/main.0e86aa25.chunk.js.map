{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","components/Button/Button.js","App.js","index.js","components/Modal/Modal.module.css"],"names":["Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","item","onClick","src","webformatURL","alt","tags","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","s","backdrop","content","children","ImageGallery","imageIndex","showModal","toggleModal","index","items","map","handleClick","largeImageURL","API_KEY","Button","Status","App","images","page","isMoreAvailable","error","status","handleSearchSubmit","handleLoadMore","checkAvailability","itemsLength","prevProps","prevState","fetch","then","r","ok","json","Promise","reject","Error","fetchImagesByQuery","results","resultsCount","hits","length","scrollTo","top","documentElement","scrollHeight","behavior","catch","message","color","height","width","timeout","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0e86aa25.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const query = this.state.query.trim();\n    if (query) {\n      this.props.onSubmit(query);\n    }\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({ item, onClick }) {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={onClick}>\n      <img\n        src={item.webformatURL}\n        alt={item.tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n  }).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.content}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal';\n\nexport class ImageGallery extends Component {\n  state = {\n    imageIndex: null,\n    showModal: false,\n  };\n\n  static propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object),\n  };\n\n  handleClick(index) {\n    this.setState({ imageIndex: index, showModal: true });\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    return (\n      <>\n        <ul className=\"ImageGallery\">\n          {this.props.items.map((item, index) => (\n            <ImageGalleryItem\n              key={index}\n              item={item}\n              onClick={() => {\n                this.handleClick(index);\n              }}\n            />\n          ))}\n        </ul>\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src={this.props.items[this.state.imageIndex].largeImageURL}\n              alt={this.props.items[this.state.imageIndex].tags}\n            ></img>\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","const API_KEY = '22249367-47a1cf5ba4f0f2c3f03999b11';\nconst IMAGES_PER_PAGE = 12;\n\nfunction fetchImagesByQuery(query, page = 1) {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${IMAGES_PER_PAGE}`,\n  ).then(r => {\n    if (r.ok) {\n      return r.json();\n    }\n    return Promise.reject(new Error(`Can't get images for ${query}`));\n  });\n}\n\nexport { fetchImagesByQuery, IMAGES_PER_PAGE };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Button(props) {\n  return (\n    <button type=\"button\" onClick={props.onClick} className=\"Button\">\n      {props.children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport { fetchImagesByQuery, IMAGES_PER_PAGE } from './services/pixabay-api';\nimport Button from './components/Button/Button';\n\nconst Status = {\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  NEED_LOADING: 'needLoading',\n};\n\nexport class App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    isMoreAvailable: false,\n    error: null,\n    status: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page, images } = this.state;\n    if (this.state.status === Status.NEED_LOADING) {\n      this.setState({ status: Status.PENDING });\n\n      fetchImagesByQuery(query, page)\n        .then(results => {\n          const resultsCount = results.hits.length;\n          if (resultsCount === 0) {\n            this.setState({\n              error: new Error(`No search results for ${query}`),\n              status: Status.REJECTED,\n            });\n            return;\n          }\n\n          const isMoreAvailable = this.checkAvailability(resultsCount);\n\n          this.setState({\n            images: [...images, ...results.hits],\n            isMoreAvailable,\n            page: 1,\n            status: Status.RESOLVED,\n          });\n        })\n        .then(() => {\n          if (page !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ error, status: Status.REJECTED });\n        });\n    }\n  }\n\n  handleSearchSubmit = query => {\n    this.setState({ images: [], query, page: 1, status: Status.NEED_LOADING });\n  };\n\n  handleLoadMore = () => {\n    this.setState(() => ({\n      page: this.state.page + 1,\n      status: Status.NEED_LOADING,\n    }));\n  };\n\n  checkAvailability = itemsLength => {\n    return !(itemsLength < IMAGES_PER_PAGE);\n  };\n\n  render() {\n    const { error, status, isMoreAvailable, images } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        {status === Status.REJECTED && <div>{error.message}</div>}\n        <ImageGallery items={images} />\n        {status === Status.PENDING && (\n          <Loader\n            type=\"Audio\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        {status === Status.RESOLVED && isMoreAvailable && (\n          <Button onClick={this.handleLoadMore}>Load more</Button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './styles.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3FAPo\",\"content\":\"Modal_content__1VIbZ\"};"],"sourceRoot":""}